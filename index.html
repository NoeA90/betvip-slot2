<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BET300 - Promo Interactiva</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0a0f2c;
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
    }
    .logo {
      font-weight: bold;
      font-size: 20px;
      background: linear-gradient(45deg,#ff7e5f,#feb47b);
      padding: 5px 15px;
      border-radius: 8px;
      color:#000;
    }
    .tag {
      background: linear-gradient(45deg,#141e30,#243b55);
      padding: 6px 12px;
      border-radius: 12px;
      font-size: 14px;
    }
    .countdown {
      background:#222;
      padding:6px 12px;
      border-radius:12px;
      margin:8px;
      display:inline-block;
      font-size:14px;
    }
    .sound-toggle {
      background:#222;
      padding:6px 12px;
      border-radius:12px;
      margin:8px;
      display:inline-block;
      font-size:14px;
      cursor:pointer;
    }
    .wheel {
      margin: 10px auto;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 10px solid #555;
      position: relative;
      overflow: hidden;
      transition: transform 4s cubic-bezier(0.17,0.67,0.83,0.67);
    }
    .wheel .segment {
      position: absolute;
      width: 50%;
      height: 50%;
      background: #ff7e5f;
      transform-origin: 100% 100%;
      clip-path: polygon(0 0, 100% 0, 100% 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
      color:#000;
    }
    .indicator {
      width: 0;
      height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-bottom: 30px solid #00f7ff;
      margin: 0 auto;
    }
    .result-box {
      margin-top: 10px;
      padding: 12px;
      background: #111a3a;
      border-radius: 12px;
      font-size: 16px;
    }
    .btn-container {
      display: flex;
      justify-content: space-around;
      margin: 15px 0;
    }
    button {
      flex: 1;
      margin: 0 5px;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
    }
    .btn-spin {
      background: linear-gradient(45deg,#ff0844,#ffb199);
      color: #fff;
    }
    .btn-claim {
      background: linear-gradient(45deg,#00b09b,#96c93d);
      color: #fff;
    }
    /* Bot√≥n flotante WhatsApp */
    .whatsapp-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25d366;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.3);
      cursor: pointer;
      animation: pulse 1.5s infinite;
    }
    .whatsapp-float img {
      width: 35px;
      height: 35px;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">BET300</div>
    <div class="tag">Promo interactiva ¬∑ v√°lida <b>hoy</b></div>
  </header>

  <div class="countdown">‚è≥ Tiempo limitado <span id="timer">--:--:--</span></div>
  <div class="sound-toggle" onclick="toggleSound()">üîä Sonido: <span id="soundStatus">ON</span></div>

  <div class="indicator"></div>
  <div class="wheel" id="wheel"></div>

  <div class="result-box" id="resultBox">Ten√©s 1 giro disponible<br>Los premios se acreditan con tu <b>pr√≥xima carga m√≠nima</b>.</div>

  <div class="btn-container">
    <button class="btn-spin" onclick="spinWheel()">üé∞ Girar</button>
    <button class="btn-claim" onclick="claimPrize()">üì≤ Reclamar</button>
  </div>

  <!-- Bot√≥n flotante WhatsApp -->
  <div class="whatsapp-float" id="waButton">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
  </div>

  <script>
    const prizes = ["$2.000","$3.000","20%","$4.000","30%","$5.000","40%","$6.000","50%","$7.000","$8.000","$9.000","$10.000","10%"];
    const wheel = document.getElementById("wheel");

    // Dibujar segmentos
    prizes.forEach((prize,i)=>{
      const seg=document.createElement("div");
      seg.className="segment";
      seg.style.transform=`rotate(${(360/prizes.length)*i}deg) skewY(-${90-(360/prizes.length)}deg)`;
      seg.style.background=i%2===0?"#7cf":"#fcf";
      seg.innerHTML=prize;
      wheel.appendChild(seg);
    });

    let isSpinning=false;
    let currentRotation=0;
    let soundOn=true;
    const spinSound=new Audio("https://www.soundjay.com/buttons/sounds/button-16.mp3");
    const winSound=new Audio("https://www.soundjay.com/human/sounds/applause-8.mp3");

    function spinWheel(){
      if(isSpinning)return;
      isSpinning=true;
      const spinAngle=360*5+Math.floor(Math.random()*360);
      currentRotation+=spinAngle;
      wheel.style.transform=`rotate(${currentRotation}deg)`;
      if(soundOn) spinSound.play();
      setTimeout(()=>{
        const normalized=(currentRotation%360+360)%360;
        const segAngle=360/prizes.length;
        const index=Math.floor((prizes.length-(normalized/segAngle))%prizes.length);
        const result=prizes[index];
        document.getElementById("resultBox").innerHTML=`üéâ ¬°Premio obtenido!<br>Recib√≠s <b>${result}</b> en tu pr√≥xima carga.`;
        if(soundOn) winSound.play();
        isSpinning=false;
      },4000);
    }

    function toggleSound(){
      soundOn=!soundOn;
      document.getElementById("soundStatus").textContent=soundOn?"ON":"OFF";
    }

    // Contador regresivo
    let timeLeft=3600;
    setInterval(()=>{
      if(timeLeft<=0)return;
      timeLeft--;
      const h=String(Math.floor(timeLeft/3600)).padStart(2,"0");
      const m=String(Math.floor((timeLeft%3600)/60)).padStart(2,"0");
      const s=String(timeLeft%60).padStart(2,"0");
      document.getElementById("timer").textContent=`${h}:${m}:${s}`;
    },1000);

    // Configuraci√≥n por par√°metro ?pc=1,2,3
    const params=new URLSearchParams(location.search);
    const pc=params.get("pc");

    const whatsappNumbers={
      1:"5491111111111",
      2:"5492222222222",
      3:"5493333333333"
    };
    const platformLinks={
      1:"https://plataforma1.com",
      2:"https://plataforma2.com",
      3:"https://plataforma3.com"
    };

    const waNum=whatsappNumbers[pc]||"5491111111111";
    const plLink=platformLinks[pc]||"https://plataforma1.com";

    function claimPrize(){
      window.open(`https://wa.me/${waNum}?text=¬°Quiero reclamar mi premio!`,"_blank");
    }

    document.getElementById("waButton").onclick=function(){
      window.open(`https://wa.me/${waNum}?text=¬°Quiero reclamar mi premio!`,"_blank");
    };
  </script>
</body>
</html>
