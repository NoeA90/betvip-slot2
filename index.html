function drawWheel(a){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const cx=center.x, cy=center.y;
  const segN = segments.length;
  const step = 2*Math.PI/segN;

  ctx.save();
  ctx.translate(cx,cy);
  ctx.rotate(a);

  for(let i=0;i<segN;i++){
    const start=i*step, end=start+step, mid=(start+end)/2;

    // sector
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.arc(0,0,radius,start,end);
    ctx.closePath();
    ctx.fillStyle = segColor(i);
    ctx.fill();

    // borde del sector
    ctx.lineWidth=2;
    ctx.strokeStyle="#1a2849";
    ctx.stroke();

    // ==== TEXTO VERTICAL DENTRO DEL GAJO ====
    // Configuración de tipografía (más grande para $)
    const isMoney = segments[i].includes("$");
    const fs = Math.max(18, Math.min(42, radius * (isMoney ? 0.16 : 0.145)));
    ctx.font = `900 ${fs}px Montserrat, Arial`;
    ctx.fillStyle = "#0a1030";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    // Apilado vertical por carácter: del borde hacia adentro
    const text = segments[i];
    const outerR = radius * 0.92;     // borde exterior donde empieza
    const innerR = radius * 0.38;     // hasta dónde entra
    const steps  = Math.max(1, text.length - 1);
    const gap    = (outerR - innerR) / steps;

    ctx.save();
    // rotamos al centro del gajo para alinear el radio
    ctx.rotate(mid);

    for (let k = 0; k < text.length; k++) {
      const rpos = outerR - k * gap;  // posición radial
      ctx.save();
      ctx.translate(rpos, 0);         // nos movemos a lo largo del radio
      ctx.rotate(-mid);               // contrarrotamos: letra “derecha” en la pantalla
      ctx.fillText(text[k], 0, 0);    // dibujamos el carácter
      ctx.restore();
    }
    ctx.restore();
    // ====== FIN TEXTO ======
  }

  // aro interior oscuro
  ctx.beginPath();
  ctx.fillStyle="#0b1326";
  ctx.arc(0,0, radius*0.18, 0, Math.PI*2);
  ctx.fill();

  ctx.restore();
}
